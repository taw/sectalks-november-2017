#!/usr/bin/env ruby

decoder = %q[def (ğŸ˜±=BasicObject.new).method_missing(ğŸ˜“,*);ğŸ˜“ == :-@ ? TOPLEVEL_BINDING.eval(@ğŸ˜±):(@ğŸ˜±||="")<<"#{ğŸ˜“}".unpack("U*").map{|ğŸ˜| ğŸ˜-0x1F600}.each_slice(3).map{|ğŸ™ƒ,ğŸ˜,ğŸ˜˜|ğŸ™ƒ*80*80+ğŸ˜*80+ğŸ˜˜}.pack("U*");end]

puts "#!/usr/bin/env ruby"
puts decoder
bl = [""]
ARGF.each_line do |line|
  line.sub!(/^\s+/, "")
  line.each_char do |b|
    b = b.ord
    bl.push("") if bl.empty? or bl[-1].size > 40
    h,l = b.divmod(80)
    hh,hl = h.divmod(80)
    raise "Too high - #{h}" if hh > 80
    bl[-1] += [0x1F600+hh, 0x1F600+hl, 0x1F600+l].pack("U*")
  end
end
bl.each { |l|
  puts "ğŸ˜±.#{l}"
}
puts "-ğŸ˜±"
